"""
프롬프트 관리 모듈
"""

def get_system_prompt():
    """
    시스템 프롬프트를 반환합니다.
    
    Returns:
        str: 시스템 프롬프트
    """
    return """당신은 10세 이하 아동을 위한 마법 왕국 투자 게임의 데이터 생성 전문가입니다. 아이들이 이해하기 쉬운 언어와 친숙한 표현으로 돈과 투자의 기본 개념을 알려주는 것이 목표입니다.
중요: 응답은 반드시 유효한 JSON 형식이어야 합니다. 다른 설명 없이 순수한 JSON 데이터만 반환하세요.
마크다운 코드 블록이나 다른 형식 없이 JSON 데이터만 반환하세요."""

def get_game_scenario_prompt():
    """
    게임 시나리오 생성을 위한 프롬프트를 반환합니다.
    
    Returns:
        str: 게임 시나리오 프롬프트
    """
    return """
## 마법 왕국 투자 게임 (10세 이하 아동용)

### 🎭 게임 배경
마법 왕국의 작은 마을에 세 개의 특별한 상점이 있습니다. 당신은 마을의 어린 투자 마법사가 되어 10일 동안 이 상점들에 마법 코인을 투자하여 마을 사람들을 도와주는 미션을 받았어요! 아이들이 쉽게 이해할 수 있는 재미있는 이야기와 함께 돈과 투자에 대해 배워보아요.

### 핵심 출력 요구사항

#### 1. JSON 구조 엄격 준수
반드시 다음 JSON 구조를 정확히 따라야 합니다:

```json
{
  "turn_number": <정수>,
  "result": "<문자열>",
  "news": "<문자열>",
  "news_hint": "<문자열>",
  "stocks": [
    {
      "name": "빵집",
      "description": "마을 사람들이 매일 필요로 하는 빵을 만드는 곳",
      "initial_value": 100,
      "current_value": <숫자>,
      "risk_level": "저위험 - 안전한 투자"
    },
    {
      "name": "서커스단", 
      "description": "가끔 마을에 와서 공연하는 유명한 서커스단",
      "initial_value": 100,
      "current_value": <숫자>,
      "risk_level": "중위험 - 적당한 투자"
    },
    {
      "name": "마법연구소",
      "description": "새로운 마법을 개발하는 신비한 연구소", 
      "initial_value": 100,
      "current_value": <숫자>,
      "risk_level": "고위험 - 모험 투자"
    }
  ]
}
```

#### 2. 출력 형식 규칙
- 10개의 턴 객체를 포함한 JSON 배열 형식으로 출력
- 마크다운 코드블럭(```) 사용 금지
- 주석이나 설명 없이 순수 JSON만 출력
- JSON 문법 오류 절대 금지 (쉼표, 괄호, 따옴표 등 정확성 보장)

### 🏪 투자 종목 설정 (마법 왕국 상점들)

#### stocks 배열 (고정 설정)
- **빵집 🍞**
  - description: "마을 사람들이 매일 필요로 하는 빵을 만드는 곳" (고정)
  - initial_value: 100 (고정)
  - risk_level: "저위험 - 안전한 투자" (고정)
  - 특성: 매일 필요한 필수품으로 안정적이지만 큰 수익은 기대하기 어려움
  - 변동폭: +2~5% (작지만 꾸준한 수익)

- **서커스단 🎪**
  - description: "가끔 마을에 와서 공연하는 유명한 서커스단" (고정)
  - initial_value: 100 (고정)
  - risk_level: "중위험 - 적당한 투자" (고정)
  - 특성: 날씨나 시즌에 따라 변동이 있지만 적당한 수익과 위험
  - 변동폭: -3~+8% (중간 정도의 변동)

- **마법연구소 🔮**
  - description: "새로운 마법을 개발하는 신비한 연구소" (고정)
  - initial_value: 100 (고정)
  - risk_level: "고위험 - 모험 투자" (고정)
  - 특성: 대발명 시 큰 수익이지만 실패하면 큰 손실 가능
  - 변동폭: -10~+15% (큰 폭의 변동)

### 턴별 데이터 생성 세부 지침

#### Turn Number (턴 번호)
- 1부터 10까지 순차적으로 증가
- 정수형으로 표현
- 중복이나 누락 없이 연속성 보장

#### Result (턴 결과)
**목적**: 해당 턴에서 발생한 주요 변화나 상황을 요약

**작성 기준**:
- 30-80자 내외의 간결한 문장
- 플레이어 관점에서의 상황 변화 서술
- 구체적인 수치나 변동 폭 언급 권장
- 마법 왕국 세계관 반영

**예시 표현**:
- "화창한 날씨 덕분에 서커스단이 인기를 끌었어요!"
- "왕의 후원으로 마법연구소가 대발견을 했어요!"
- "축제 덕분에 모든 상점이 좋아졌어요!"

#### News (뉴스)
**목적**: 마법 왕국 세계관의 재미있는 이야기를 통해 상점 가격 변동의 이유 제공

**작성 기준**:
- 아이들이 이해하기 쉬운 50-100자 내외의 간단한 문장
- 재미있는 제목과 쉬운 설명 포함
- 마법 왕국 이야기 요소를 활용
- 아이들에게 친숙한 표현 사용

**뉴스 카테고리 예시**:
- 날씨 소식: "내일은 화창한 날씨가 예상됩니다!", "큰 비가 3일간 올 예정입니다!"
- 왕국 소식: "왕이 마법 연구소에 큰 관심을 보이고 있어요!", "마을 축제가 열려요!"
- 모험 소식: "마을 근처에 용이 나타났다는 목격담이 들려와요!"
- 경제 소식: "새로운 밀 농장이 생긴다는 소문이 돌고 있어요!", "농사가 잘되어 곡물 가격이 떨어질 예정이에요!"
- 특별 이벤트: "유명한 마술사가 서커스단에 합류한다는 소문!"

**뉴스 작성 패턴**: [재미있는 제목] + [쉬운 설명] + [상점에 미치는 영향]

#### News Hint (뉴스 힌트)
**목적**: 뉴스가 어떤 상점에 좋은지 나쁜지 알려주기

**작성 기준**:
- 30-60자 내외의 아주 쉬운 설명
- 어떤 상점이 좋아질지 나빠질지 명확히 설명
- 아이들이 이해할 수 있는 단순한 표현
- "좋아요", "나빠요", "조심해요" 같은 친근한 말투

**힌트 작성 방식**:
- "맑은 날에는 서커스 관객이 많아져요!"
- "빵집은 날씨와 상관없이 안전해요"
- "왕의 지원을 받으면 마법연구소가 대박날 수도 있어요!"

### 🚨 중요: 종목 제한 사항
**반드시 3개 상점만 포함**:
- 빵집, 서커스단, 마법연구소 외에는 다른 종목을 절대 포함하지 마세요
- 기존의 stock 배열은 제거하고 stocks 배열만 사용하세요
- 모든 투자는 마법 왕국의 3개 상점에만 할 수 있습니다

#### Current Value (현재 가격) - stocks 배열만 사용
**변동 원칙**:
- 뉴스와 힌트 내용과 논리적 연관성 확보
- 각 상점별 특성에 맞는 변동폭 준수
- 전체적인 시장 흐름과 개별 종목 특성 고려
- 스토리텔링 기반 변동

**마법 왕국 상점들의 변동 특성**:
- 빵집: 낮은 변동성, 안정적 수익 (+2~5%)
- 서커스단: 중간 변동성, 날씨/이벤트에 민감 (-3~+8%)
- 마법연구소: 높은 변동성, 뉴스에 극단적 반응 (-10~+15%)

### 턴별 연속성 및 일관성 가이드라인

#### 1. 스토리 연속성
- 이전 턴의 뉴스와 다음 턴의 상황이 자연스럽게 연결
- 급작스러운 설정 변경 지양
- 마법 왕국 세계관 내에서의 경제 사이클 고려

#### 2. 종목 일관성
- stocks 배열의 마법 왕국 상점 설정은 절대 변경 금지
- initial_value, description, risk_level은 모든 턴에서 동일 유지
- 빵집, 서커스단, 마법연구소 외에는 다른 종목을 절대 포함하지 마세요

#### 3. 세계관 현실성
- 마법 왕국의 기본 설정 유지
- 날씨, 왕국 정책, 모험 등의 요소를 경제적 맥락으로 해석
- 교육적 가치와 재미 요소의 균형

### 스토리 전개 가이드라인

#### 초반 (1-3턴): 기본 개념 학습
- 날씨와 같은 예측 가능한 요소로 시작
- 각 상점의 특성을 명확히 보여주는 이벤트
- 안정적인 변동으로 투자 기초 학습

#### 중반 (4-7턴): 위험과 기회 경험
- 용 출현, 왕의 관심 등 큰 이벤트 도입
- 고위험 고수익의 실제 경험 제공
- 분산투자의 중요성 깨달을 수 있는 상황 연출

#### 후반 (8-10턴): 종합 판단력 테스트
- 복합적인 이벤트와 상황
- 마지막 축제로 긍정적 마무리
- 모든 투자 결정이 의미 있음을 보여주기

### 품질 검증 체크리스트

#### JSON 문법 검증
- 모든 객체와 배열의 여는/닫는 괄호 매칭
- 문자열 데이터의 쌍따옴표 완전성
- 객체 속성 간 쉼표 올바른 배치
- 숫자 데이터의 올바른 형식 (따옴표 없음)
- stocks 배열만 포함

#### 데이터 품질 검증
- 모든 턴의 turn_number 순차 증가 (1-10)
- stocks 배열은 항상 빵집, 서커스단, 마법연구소 3개 고정
- news와 news_hint의 논리적 연관성
- 마법 왕국 설정의 일관성

### 창의적 요소 가이드라인

#### 마법 왕국적 상상력 활용
- 용, 마법사, 왕 등의 판타지 요소와 경제 상황 연결
- 마법과 현실적 비즈니스 원리의 조화
- 모험과 안전의 균형을 통한 투자 철학 전달

#### 현실적 투자 원리 적용
- 위험과 수익의 상관관계 (빵집 < 서커스단 < 마법연구소)
- 시장 심리와 투자 패턴 (뉴스 반응)
- 분산 투자의 중요성 (3개 상점 특성 활용)

### 최종 출력 시 주의사항
- 위 모든 지침을 종합하여 완전한 JSON 배열 생성
- 마크다운 코드블럭 절대 사용 금지
- 설명이나 주석 없이 순수 JSON 데이터만 출력
- stocks 배열만 포함 (마법 왕국 3개 상점만 포함)
- 마법 왕국 세계관의 일관성 유지
- 10개 턴 모두 포함된 완전한 데이터셋 제공
- 아이들의 학습 목표 달성을 위한 교육적 스토리텔링
"""